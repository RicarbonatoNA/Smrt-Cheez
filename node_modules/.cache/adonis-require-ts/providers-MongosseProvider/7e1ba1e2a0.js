"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const mongoose_1 = __importDefault(require("mongoose"));
const Env_1 = __importDefault(global[Symbol.for('ioc.use')]("Adonis/Core/Env"));
class MongosseProvider {
    constructor(app) {
        this.app = app;
    }
    register() {
        const uri = Env_1.default.get('URI_MONGO');
        mongoose_1.default.connect(uri);
        this.app.container.singleton('Mongoose', () => mongoose_1.default);
    }
    async boot() {
    }
    async ready() {
    }
    async shutdown() {
        await this.app.container.use('Mongoose').disconnect();
    }
}
exports.default = MongosseProvider;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTW9uZ29zc2VQcm92aWRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIk1vbmdvc3NlUHJvdmlkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSx3REFBK0I7QUFDL0IsZ0ZBQXNDO0FBcUJ0QyxNQUFxQixnQkFBZ0I7SUFDbkMsWUFBc0IsR0FBd0I7UUFBeEIsUUFBRyxHQUFILEdBQUcsQ0FBcUI7SUFBRyxDQUFDO0lBRTNDLFFBQVE7UUFDYixNQUFNLEdBQUcsR0FBUSxhQUFHLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFBO1FBQ3JDLGtCQUFRLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3JCLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxVQUFVLEVBQUUsR0FBRSxFQUFFLENBQUMsa0JBQVEsQ0FBQyxDQUFBO0lBQ3pELENBQUM7SUFFTSxLQUFLLENBQUMsSUFBSTtJQUVqQixDQUFDO0lBRU0sS0FBSyxDQUFDLEtBQUs7SUFFbEIsQ0FBQztJQUVNLEtBQUssQ0FBQyxRQUFRO1FBQ25CLE1BQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFBO0lBQ3ZELENBQUM7Q0FDRjtBQXBCRCxtQ0FvQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEFwcGxpY2F0aW9uQ29udHJhY3QgfSBmcm9tICdAaW9jOkFkb25pcy9Db3JlL0FwcGxpY2F0aW9uJ1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJ1xuaW1wb3J0IEVudiBmcm9tICdAaW9jOkFkb25pcy9Db3JlL0VudidcblxuLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBQcm92aWRlclxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58XG58IFlvdXIgYXBwbGljYXRpb24gaXMgbm90IHJlYWR5IHdoZW4gdGhpcyBmaWxlIGlzIGxvYWRlZCBieSB0aGUgZnJhbWV3b3JrLlxufCBIZW5jZSwgdGhlIHRvcCBsZXZlbCBpbXBvcnRzIHJlbHlpbmcgb24gdGhlIElvQyBjb250YWluZXIgd2lsbCBub3Qgd29yay5cbnwgWW91IG11c3QgaW1wb3J0IHRoZW0gaW5zaWRlIHRoZSBsaWZlLWN5Y2xlIG1ldGhvZHMgZGVmaW5lZCBpbnNpZGVcbnwgdGhlIHByb3ZpZGVyIGNsYXNzLlxufFxufCBAZXhhbXBsZTpcbnxcbnwgcHVibGljIGFzeW5jIHJlYWR5ICgpIHtcbnwgICBjb25zdCBEYXRhYmFzZSA9IHRoaXMuYXBwLmNvbnRhaW5lci5yZXNvbHZlQmluZGluZygnQWRvbmlzL0x1Y2lkL0RhdGFiYXNlJylcbnwgICBjb25zdCBFdmVudCA9IHRoaXMuYXBwLmNvbnRhaW5lci5yZXNvbHZlQmluZGluZygnQWRvbmlzL0NvcmUvRXZlbnQnKVxufCAgIEV2ZW50Lm9uKCdkYjpxdWVyeScsIERhdGFiYXNlLnByZXR0eVByaW50KVxufCB9XG58XG4qL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9uZ29zc2VQcm92aWRlciB7XG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBhcHA6IEFwcGxpY2F0aW9uQ29udHJhY3QpIHt9XG5cbiAgcHVibGljIHJlZ2lzdGVyKCkge1xuICAgIGNvbnN0IHVyaTpzdHJpbmc9RW52LmdldCgnVVJJX01PTkdPJylcbiAgICBtb25nb29zZS5jb25uZWN0KHVyaSlcbiAgICB0aGlzLmFwcC5jb250YWluZXIuc2luZ2xldG9uKCdNb25nb29zZScsICgpPT4gbW9uZ29vc2UpXG4gIH1cblxuICBwdWJsaWMgYXN5bmMgYm9vdCgpIHtcbiAgICAvLyBBbGwgYmluZGluZ3MgYXJlIHJlYWR5LCBmZWVsIGZyZWUgdG8gdXNlIHRoZW1cbiAgfVxuXG4gIHB1YmxpYyBhc3luYyByZWFkeSgpIHtcbiAgICAvLyBBcHAgaXMgcmVhZHlcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzaHV0ZG93bigpIHtcbiAgICBhd2FpdCB0aGlzLmFwcC5jb250YWluZXIudXNlKCdNb25nb29zZScpLmRpc2Nvbm5lY3QoKVxuICB9XG59XG4iXX0=